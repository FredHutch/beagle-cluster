ClusterName=<%= @config['ClusterName'] %>
ControlMachine=<%= @config['ControlMachine'] %>
AuthType=auth/munge
CacheGroups=0
CryptoType=crypto/munge
DisableRootJobs=YES

CheckpointType=checkpoint/none
JobCheckpointDir=<%= @config['JobCheckpointDir'] %>

FirstJobID=1000
GroupUpdateForce=600
JobRequeue=0
#JobSubmitPlugins=default_account,default_qos
MaxJobCount=25000
MpiDefault=openmpi
MpiParams=ports=12000-12999
ProctrackType=proctrack/linuxproc
PropagateResourceLimits=NONE
ReturnToService=2
SlurmctldPidFile=<%= @config['SlurmctldPidFile'] %>
SlurmctldPort=6817

# Use "%n" with multiple nodes per host
SlurmdPidFile=<%= @config['SlurmdPidFile'] %>
SlurmdPort=6818
SlurmdSpoolDir=<%= @config['SlurmdSpoolDir'] %>

SlurmUser=slurm
StateSaveLocation=<%= @config['StateSaveLocation'] %>
SwitchType=switch/none
TaskPlugin=task/none
TmpFs=/loc
InactiveLimit=0
KillWait=30
MessageTimeout=45
MinJobAge=300
OverTimeLimit=0

SlurmctldTimeout=2000
SlurmdTimeout=2000
Waittime=0
FastSchedule=0

SchedulerType=sched/builtin

SelectType=select/cons_res
SelectTypeParameters=CR_Core

PreemptMode=REQUEUE
PreemptType=preempt/qos

#
# JOB PRIORITY
PriorityType=priority/multifactor
PriorityDecayHalfLife=1-00:00:00
#PriorityCalcPeriod unset 
#PriorityFavorSmall unset 
PriorityMaxAge=1-00:00:00
#PriorityUsageResetPeriod unset 
PriorityWeightAge=10
PriorityWeightFairshare=100000000
#PriorityWeightPartition unset 
#PriorityWeightJobSize unset 
PriorityWeightQOS=1000000
#

JobAcctGatherFrequency=60

DebugFlags=NO_CONF_HASH
SlurmctldDebug=3
SlurmctldLogFile=<%= @config['SlurmctldLogFile'] %>
SlurmdDebug=3
SlurmdLogFile=<%= @config['SlurmdLogFile'] %>
SlurmSchedLogFile=<%= @config['SlurmSchedLogFile'] %>
SlurmSchedLogLevel=0
#
# Attribute Overrides Here
#
<% @config.each_pair do |p, v| %>
<% unless p == 'Include' %>
<%= "#{p}=#{v}" %>
<% end %>
<% end %>

<% if @config.has_key? :Include %>
<% @config['Include'].each do |path| %>
Include <%= path %>
<% end %>
<% end %>
